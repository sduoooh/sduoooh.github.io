<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hello World!</title>
</head>

<body>
  <div>Hello world!</div>
  <div><span>你现在使用的是 <span id="device">null</span>， 目前页面宽度为： <span id="width">0</span></span></div>
  <script>

    document.getElementById('device').innerHTML = navigator.userAgent
    document.getElementById('width').innerHTML = document.body.clientWidth

    window.onresize = function () {
      var target = this;
      if (target.resizeFlag) {
        clearTimeout(target.resizeFlag);
      }

      document.getElementById('width').innerHTML = document.body.clientWidth

      target.resizeFlag = setTimeout(function () {
        target.resizeFlag = null;
      }, 100);
    }
  </script>
</body>

</html>
