<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/svg+xml" href="/logo.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hello World!</title>
  <script>
    import { ref } from "/littleVue.js"
  </script>
</head>
<body>
  <div>Hello world!</div>
  <div id="app">0</div>
  <button onclick="clickEvent()">click me!</button>
  <script>
    let a = document.getElementById('app')
    const clickEvent = () => {
      if (a) {
        a.innerHTML = parseInt(a.innerHTML) + 1
      }
    }
  </script>
  <input id="input"></input>
  <script>
    let input1 = 0
    let input = document.getElementById('input')
    input.addEventListener('input', (e) => {
      if ((/^[0-9]+$/).test(e.target.value)) {
        document.getElementById('app').innerHTML = parseInt(e.target.value)
      }
      else {
        document.getElementById('app').innerHTML = 0
      }
    })
  </script>
  <div id="app1">0</div>
  <div>
    <p>响应式青春版</p>
    <p id="a">0</p>
    <p id='b'>0</p>
    <p id='ans'>0</p>
  </div>
  <button onclick="ok.value = ok.value + 1">click me!</button>
  <script>
    const ok = ref(0, {
      address: 'app1',
      function: (value) => {
        return value
      }
    })

    ok.source = {
      address: 'a',
      function: (value) => {
        return value
      }
    }
    
    const ok2 = ref(0, {
      address: 'b',
      function: (value) => {
        return value
      }
    })
    
    
    ok2.source = {
      address: 'ans',
      function: (value) => {
        return value + ok.value
      }
    }
    
    
    ok.source = {
      address: 'ans',
      function: (value) => {
        return value + ok2.value
      }
    }
  </script>
</body>
</html>
